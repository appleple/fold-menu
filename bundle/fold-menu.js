!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.FoldMenu=t():e.FoldMenu=t()}(window,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="bundle",n(n.s=0)}([function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),i={foldMenuClass:"js-fold-menu",foldMenuToggleClass:"js-fold-menu-toggle",foldMenuListClass:"js-fold-menu-list",foldMenuListActiveClass:"js-fold-menu-list-active",foldMenuText:"...",addToggleBtn:!1},s=function(){function e(e,t){void 0===t&&(t={}),this.foldMenuList=[],this.selector="string"==typeof e?document.querySelector(e):e,this.option=o(o({},i),t),this.appendMenu(),this.calc(),this.buildToggleHtml(),this.registerToggleEvent(),this.observe()}return e.prototype.observe=function(){var e=this;new ResizeObserver((function(){e.calc(),e.buildToggleHtml()})).observe(this.selector)},e.prototype.calc=function(){var e=this.option,t=e.foldMenuClass,n=(e.foldMenuToggleClass,e.foldMenuText,this.selector.children),o=this.selector.offsetWidth,i=this.selector.querySelector("."+t);this.selector.style.overflow="hidden",i.style.display="",this.foldMenuList=[],[].forEach.call(n,(function(e){e.style.display=""}));for(var s=n.length;l.getOffset(i).left+i.offsetWidth>l.getOffset(this.selector).left+o;){console.log();var r=n[s-1];r&&!l.hasClass(r,t)&&(r.style.display="none",this.foldMenuList.push(r)),s--}this.foldMenuList=this.foldMenuList.reverse(),this.selector.style.overflow="",this.foldMenuList.length?i.style.display="":i.style.display="none"},e.prototype.buildToggleHtml=function(){var e=this.option,t=e.foldMenuListClass,n=e.addToggleBtn,o=this.selector.querySelector("."+t),l=[].map.call(this.foldMenuList,(function(e){return"<li>"+e.innerHTML+"</li>"})).join("");o.innerHTML=l,n&&(o.style.display="none")},e.prototype.registerToggleEvent=function(){var e=this.option,t=e.foldMenuToggleClass,n=e.foldMenuListClass,o=e.foldMenuListActiveClass;if(e.addToggleBtn){var i=this.selector.querySelector("."+t),s=this.selector.querySelector("."+n);i.addEventListener("click",(function(){"none"===s.style.display?(s.style.display="",requestAnimationFrame((function(){l.addClass(s,o)}))):(l.removeClass(s,o),setTimeout((function(){s.style.display="none"}),300))}))}},e.prototype.appendMenu=function(){var e=this.option,t=e.foldMenuClass,n=e.foldMenuToggleClass,o=e.foldMenuListClass,i=e.foldMenuText;e.addToggleBtn;l.append(this.selector,'<li class="'+t+'">\n      <a href="#" class="'+n+'">'+i+'</a>\n      <ul class="'+o+'"></ul>\n    </li>')},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqId=function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()},t.getWindowWidth=function(){return document&&document.documentElement?document.documentElement.clientWidth:window&&window.innerWidth?window.innerWidth:0},t.getWindowHeight=function(){return window.innerHeight||document.documentElement.clientHeight||0},t.hasClass=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},t.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},t.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},t.getScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},t.getScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},t.wrap=function(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)},t.after=function(e,t){e.insertAdjacentHTML("afterend",t)},t.isIE=function(){var e=window.navigator.userAgent.toLowerCase();return!(!e.match(/(msie|MSIE)/)&&!e.match(/(T|t)rident/))},t.triggerEvent=function(e,t,n){var o;window.CustomEvent?o=new CustomEvent(t,{cancelable:!0}):(o=document.createEvent("CustomEvent")).initCustomEvent(t,!1,!1,n),e.dispatchEvent(o)},t.append=function(e,t){var n=document.createElement("div");for(n.innerHTML=t;n.children.length>0;)e.appendChild(n.children[0])},t.prepend=function(e,t){var n=document.createElement("div");for(n.innerHTML=t;n.children.length>0;)e.insertBefore(n.children[0],e.firstChild)},t.matches=function(e,t){for(var n=(e.document||e.ownerDocument).querySelectorAll(t),o=n.length;--o>=0&&n.item(o)!==e;);return o>-1},t.findAncestor=function(e,n){if("function"==typeof e.closest)return e.closest(n)||null;for(;e&&e!==document;){if(t.matches(e,n))return e;e=e.parentElement}return null},t.getOffset=function(e){var n=e.getBoundingClientRect();return{top:n.top+t.getScrollTop(),left:n.left+t.getScrollLeft()}},t.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}}]).default}));